{
    "contents" : "---\noutput: html_document\n---\n###Simulating exponential distributions and comparing the distribution of averages with the Central Limit Theorem\n####Author: \"Yosuke Ishizaka\"\n\n\n####Overview:\n\nIn this project I investigate the exponential distribution using R.  I simulate the distribution of averages of 40 exponentials by running thousand simulations and compare the result with the Central Limit Theorem.\n\n####Simulations:\n\nThe exponential distribution in R is expressed in the form rexp(n, lambda) where n is the number of exponentials and lambda is the rate parameter.  In this project I set n = 40 exponentials and lambda = 0.2 for all thousand simulations.  Here's a code for the distribution of averages of 40 exponentials. (Appendix: A)\n\n```{r, chunk1, echo=FALSE}\nset.seed(1)\nmeans <- NULL\nlambda <- 0.2\nn <- 40\nfor(i in 1:1000)\n        means = c(means, mean(rexp(n, lambda)))\n```\n\n####Sample Mean versus Theoretical Mean:\n\nUsing the parameters given I can use function mean to calculate the sample mean.  Here's a code. (Appendix: B)\n\n```{r, chunk2, echo=FALSE}\nmean(means)\n```\n\n\nNow I compare sample mean to theoretical mean of the distribution.  Since Lambda is 0.2, I can calculate mean by the formula 1/lambda. (Appendix: C)\n\n```{r, chunk3, echo=FALSE}\nmeant <- 1/lambda\nprint(meant)\n```\nSample mean 4.99 is close to the theoretical mean 5.\n\n####Sample Variance versus Theoretical Variance:\n\nI can use function var to calculate variance of the averages of exponentials. (Appendix: D)\n\n```{r, chunk4, echo=FALSE}\nvar(means)\n```\n\nNow I compare sample variance to theoretical variance of the distribution.  To find theoretical variance, I use formula S^2/n. S^2 is a sample variance of the exponential distribution, 5^2 = 25. n is the number of exponentials, 40. (Appendix: E)\n\n```{r, chunk5, echo=FALSE}\ns <- 1/lambda\nvart <- s^2/n\nprint(vart)\n```\nSample variance 0.611 is close to the theoretical variance 0.625.\n\n####Distribution:\n\nFirst I show the distribution of a large collection of random exponentials.  I use 1000 random exponentials.  Plotting a histogram and a density curve shows how the distribution is shaped.  For visual guide, a red vertical line indicates a sample mean of the distribution. (Appendix: F)\n\n```{r, chunk6, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nlibrary(ggplot2)\nmeanl <- rexp(1000, lambda)\ndataset1 <- data.frame(X = meanl)\ng <- ggplot(dataset1, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(meanl)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nAs you can see, the distribution of a large collection of exponentials is not normal.  Next, I show the distribution of 1000 averages of 40 exponentials. (Appendix: G)\n\n```{r, chunk7, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\ndataset2 <- data.frame(X = means)\ng <- ggplot(dataset2, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(means)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nHere's what 10000 averages of 40 exponentials looks like. (Appendix: H)\n\n```{r, chunk8, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nmeanx <- NULL\nfor(i in 1:10000)\n        meanx = c(meanx, mean(rexp(n, lambda)))\ndataset3 <- data.frame(X = meanx)\ng <- ggplot(dataset3, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(meanx)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nDistribution is tighter around the mean.\n\nNow I use the formula z = (mean - mu)/standard error to check for normality. Standard error is s/sqrt(n).\nHere's distribution for 10000 averages of 40 exponentials. (Appendix: I)\n\n```{r, chunk9, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nz <- (meanx-meant)/(s/sqrt(n))\ndataset4 <- data.frame(X = z)\ng <- ggplot(dataset4, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(z)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nShowing the sample mean and standard deviation. (Appendix: J)\n\n```{r, chunk10, echo=FALSE}\nmean(z)\nsqrt(var(z))\n```\n\n####Conclusion:\nMy conclusion is that as n gets larger, the distribution of averages of exponentials becomes that of a standard normal.  For n = 1000, mean is -0.0126 and standard deviation is 0.9889.  For n = 10000, mean is 0.0030 and standard deviation is 0.9954.  Sample mean is approximately equal to 0 and sample standard deviation is approximately equal to 1.  Therefore, the distribution is approximately normal.\n\n####Appendix:\nR codes used in this report are shown for reproducibility.\n\n(A)\n```{r, chunk1, eval=FALSE}\n```\n(B)\n```{r, chunk2, eval=FALSE}\n```\n(C)\n```{r, chunk3, eval=FALSE}\n```\n(D)\n```{r, chunk4, eval=FALSE}\n```\n(E)\n```{r, chunk5, eval=FALSE}\n```\n(F)\n```{r, chunk6, eval=FALSE}\n```\n(G)\n```{r, chunk7, eval=FALSE}\n```\n(H)\n```{r, chunk8, eval=FALSE}\n```\n(I)\n```{r, chunk9, eval=FALSE}\n```\n(J)\n```{r, chunk10, eval=FALSE}\n```\n",
    "created" : 1434599161146.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3325952720",
    "id" : "A233E04",
    "lastKnownWriteTime" : 1434821543,
    "path" : "C:/Users/Yosuke/SkyDrive/OneDrive Documents/Coursera/Statistical Inference/Statistical Inference Simulation Project/Simulation Project.Rmd",
    "project_path" : "Simulation Project.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_markdown"
}