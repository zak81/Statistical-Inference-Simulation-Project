{
    "contents" : "---\noutput: html_document\n---\n###Simulating exponential distributions and comparing the distribution of averages with the Central Limit Theorem\n####Author: \"Yosuke Ishizaka\"\n\n\n####Overview:\n\nThe goal of this project is to do some simple inferential data analysis. In this project I will investigate an exponential distribution and compare it with the Central Limit Theorem (CLT).\n\n####Simulations:\n\nThe exponential distribution is expressed in R with rexp(n, lambda) where n is the number of exponentials and lambda is the rate parameter.  I will set n = 40 exponentials and lambda = 0.2 for all of the simulations.  I will investigate the distribution of averages of 40 exponentials by doing 1000 simulations. (Appendix: A)\n\n```{r, chunk1, echo=FALSE}\nset.seed(1518)\nmeans <- NULL\nlambda <- 0.2\nn <- 40\nfor(i in 1:1000)\n        means = c(means, mean(rexp(n, lambda)))\n```\n\n####Sample Mean versus Theoretical Mean:\n\nUsing the parameters given I show the sample mean. (Appendix: B)\n\n```{r, chunk2, echo=FALSE}\nmean(means)\n```\n\n\nNow I compare sample mean to theoretical mean of the distribution.  I calculate the mean using the formula 1/lambda. (Appendix: C)\n\n```{r, chunk3, echo=FALSE}\nmeant <- 1/lambda\nprint(meant)\n```\nSample mean 5.01 is very close to the theoretical mean 5.\n\n####Sample Variance versus Theoretical Variance:\n\nI show variance of the averages of exponentials. (Appendix: D)\n\n```{r, chunk4, echo=FALSE}\nvar(means)\n```\n\nNow I compare sample variance to theoretical variance of the distribution.  To find theoretical variance, I use formula S^2/n. S^2 is a sample variance of the exponential distribution, 5^2 = 25. n is the number of exponentials, 40. (Appendix: E)\n\n```{r, chunk5, echo=FALSE}\ns <- 1/lambda\nvart <- s^2/n\nprint(vart)\n```\nSample variance 0.627 is close to the theoretical variance 0.625.\n\n####Distribution:\n\nFirst I show the distribution of a large collection of random exponentials.  I use 1000 random exponentials.  Plotting a histogram and a density curve shows how the distribution is shaped.  A red vertical line is drawn to indicate the sample mean of the distribution. (Appendix: F)\n\n```{r, chunk6, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nlibrary(ggplot2)\nmeanl <- rexp(1000, lambda)\ndataset1 <- data.frame(X = meanl)\ng <- ggplot(dataset1, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(meanl)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nAs you can see from above density graph, the distribution of a large collection of exponentials is not normal.  Next, I show the distribution of 1000 averages of 40 exponentials. (Appendix: G)\n\n```{r, chunk7, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\ndataset2 <- data.frame(X = means)\ng <- ggplot(dataset2, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(means)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nBelow I show 10000 averages of 40 exponentials. (Appendix: H)\n\n```{r, chunk8, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nmeanx <- NULL\nfor(i in 1:10000)\n        meanx = c(meanx, mean(rexp(n, lambda)))\ndataset3 <- data.frame(X = meanx)\ng <- ggplot(dataset3, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(meanx)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nDistribution is tighter around the mean.\n\nNow I use the formula z = (mean - mu)/standard error to check for normality. Standard error is s/sqrt(n).\nHere's the distribution for 10000 averages of 40 exponentials. (Appendix: I)\n\n```{r, chunk9, echo=FALSE, fig.width=4, fig.height=2, message=FALSE, warning=FALSE}\nz <- (meanx-meant)/(s/sqrt(n))\ndataset4 <- data.frame(X = z)\ng <- ggplot(dataset4, aes(x = X))\ng + geom_histogram(aes(y = ..density..), color = \"light blue\", fill = \"light blue\", alpha = .7, bindwidth = .5) + geom_density() + geom_vline(aes(xintercept = mean(z)), linetype = \"dashed\", size = 1, color = \"red\")\n```\n\nShowing the sample mean and standard deviation. (Appendix: J)\n\n```{r, chunk10, echo=FALSE}\nmean(z)\nsqrt(var(z))\n```\n\n####Conclusion:\nMy conclusion is that as n gets larger, the distribution of averages of exponentials becomes that of a standard normal.  For n = 10000, mean is 0.0080 and standard deviation is 0.9966.  Sample mean is approximately equal to 0 and sample standard deviation is approximately equal to 1.  Therefore, the distribution is approximately normal.\n\n####Appendix:\nR codes used in this report are shown.\n\n(A)\n```{r, chunk1, eval=FALSE}\n```\n(B)\n```{r, chunk2, eval=FALSE}\n```\n(C)\n```{r, chunk3, eval=FALSE}\n```\n(D)\n```{r, chunk4, eval=FALSE}\n```\n(E)\n```{r, chunk5, eval=FALSE}\n```\n(F)\n```{r, chunk6, eval=FALSE}\n```\n(G)\n```{r, chunk7, eval=FALSE}\n```\n(H)\n```{r, chunk8, eval=FALSE}\n```\n(I)\n```{r, chunk9, eval=FALSE}\n```\n(J)\n```{r, chunk10, eval=FALSE}\n```\n",
    "created" : 1435422534119.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1384960530",
    "id" : "E7C794F2",
    "lastKnownWriteTime" : 1435429106,
    "path" : "~/OneDrive/OneDrive Documents/Coursera/Statistical Inference/Statistical Inference Simulation Project/Simulation Project.Rmd",
    "project_path" : "Simulation Project.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}